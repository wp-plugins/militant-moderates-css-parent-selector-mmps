
jQuery(document).ready(function($){var k=0,i,j,CLASS='MMPS',eventMap={hover:'mouseover mouseout',checked:'click',focus:'focus blur',selected:'change',changed:'change'},pairedEventMap={mousedown:'mouseup mouseout'},singleEventMap={mouseup:'mouseout'},pseudoElements=['after','before','first-letter','first-line','selection'],parsed,parsedSelectors,matches,selectors,selector,parent,target,child,pseudoTarget,declarations,pseudoParent,childSelector,REGEX=new RegExp((function(aryRegExp){var ret='';for(var i=0;i<aryRegExp.length;i++)
ret+=aryRegExp[i].source;return ret;})([/[\w\s\.\-\:\=\[\]\(\)\~\+\|\,\*\^$#>!]*/,/[\w\s\.\-\:\=\[\]\(\)\~\+\|\'\*\"\^#]*(?=!)/,/[\w\s\.\-\:\=\[\]\(\)\~\+\|\,\*\^$#>!]+/,/[\w\s\.\-\:\=\[\]\'\,\"#>]*\{{1}/,/[\w\s\.\-\:\=\'\"\*\!\|\?\^\+\/\\\(\);#%]+\}{1}/]),"gi");parse=function(sRawCSS){sRawCSS=sRawCSS.replace(/(\/\*([\s\S]*?)\*\/)/gm,'');if(matches=sRawCSS.match(REGEX)){parsed='';for(i=-1;++i<matches.length;){style=$.trim(matches[i]);selectors=$.trim(style.split('{')[0]).split(',');declarations='{'+style.split(/\{|\}/)[1].replace(/^\s+|\s+$[\t\n\r]*/g,'')+'}';if(declarations==='{}'){continue;}
if(!/;}$/.test(declarations))
declarations=declarations.replace(/}/g,';}');declarations=declarations.replace(/;/g,' !important;');parsedSelectors='';for(j=-1;++j<selectors.length;){selector=$.trim(selectors[j]);(parsedSelectors.length)&&(parsedSelectors+=",");if(/!/.test(selector)){parent=$.trim(selector.split('!')[0].split(/[>~+\s]+/).reverse()[0].split(/[\:]+/)[0]);pseudoParent=$.trim(selector.split('!')[0].split(/[>~+\s]+/).reverse()[0].split(/[\:]+/)[1])||[]._;target=$.trim(selector.split('!')[1].split(/[>~+\s]+/).reverse()[0].split(/[\:]+/)[0])||[]._;pseudoTarget=target?($.trim(selector.split('!')[1].split(/[>~+\s]+/).reverse()[0].split(/[\:]+/)[1])||[]._):[]._;childSelector=selector.replace(/!/g,'');childSelector=childSelector.replace('::',':').replace(parent+':'+pseudoParent,parent);childSelector=childSelector.replace('::',':').replace(target+':'+pseudoTarget,target);if(childSelector.split(/[>~+\s]+/).length>1){child=$(childSelector);child.each(function(idx){var subject=$(this);var tmpNodes=childSelector.split(/[>~+\s]+/).slice(0,-1);var n=$.trim(tmpNodes.pop());do{subject=(n=='*'?subject.parent():subject.closest(n));}while(subject&&n!=parent&&(n=$.trim(tmpNodes.pop())));if(subject){var id=CLASS+k++,toggleFn=function(e){if(e){if(pairedEventMap[e.type]){$(subject).on(pairedEventMap[e.type],function(){$(subject).toggleClass(id);$(subject).off(pairedEventMap[e.type]);});}
if(singleEventMap[e.type]){$(subject).off(singleEventMap[e.type]);}}
$(subject).toggleClass(id);};idx&&(parsedSelectors.length)&&(parsedSelectors+=",");parsedSelectors+='.'+id;if(pseudoParent){if(pseudoElements.indexOf(pseudoParent)>=0){parsedSelectors+='::'+pseudoParent;$(subject).toggleClass(id);}else{$(subject).on(eventMap[pseudoParent]||pseudoParent,toggleFn);}}
if(pseudoTarget){if(pseudoElements.indexOf(pseudoTarget)>=0){}else{if(pseudoParent&&$(subject).hasClass(id)){$(subject).toggleClass(id);}
$(this).on(eventMap[pseudoTarget]||pseudoTarget,toggleFn);}}else if(!pseudoParent){$(subject).toggleClass(id);}}});}}else{child=$(selector);if(child.length)parsedSelectors+=selector;}}
if(parsedSelectors.length){parsedSelectors+=' '+declarations;parsed+=parsedSelectors+"\n";}}
if(parsed.length)
$('<style type="text/css" mmps_gen="yes">'+parsed+'</style>').appendTo('head');};};$('link[rel="stylesheet"],style').each(function(i){if($(this).is('link')){var href=$(this).attr('href');$.ajax({type:'GET',url:href,dataType:'text'}).done(function(css){parse(css);}).fail(function(){});}else{parse($(this).text());}});});